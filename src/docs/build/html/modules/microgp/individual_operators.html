

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Individual Operators &mdash; MicroGP4 4!1.0a4 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> MicroGP4
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MicroGP4</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Individual Operators</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/modules/microgp/individual_operators.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="individual-operators">
<h1>Individual Operators<a class="headerlink" href="#individual-operators" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>MicroGP4 package offers some basic operators that can be found in
<code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators</span></code>. Three of them are <a class="reference external" href="https://en.wikipedia.org/wiki/Crossover_(genetic_algorithm)">crossover operators</a>,
four are <a class="reference external" href="https://en.wikipedia.org/wiki/Mutation_(genetic_algorithm)">mutation operators</a> and one has the goal to create a random individual.
As you can see in <a class="reference internal" href="darwin.html"><span class="doc">Darwin</span></a>, the methods that are listed in this module can be
passed to the constructor of a <cite>GenOperator</cite> an then added to the list of
operators used by the <a class="reference internal" href="darwin.html#microgp.darwin.Darwin" title="microgp.darwin.Darwin"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.darwin.Darwin</span></code></a> object.</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators</span></code></p>
<div class="section" id="initialization-operator">
<h2>Initialization operator<a class="headerlink" href="#initialization-operator" title="Permalink to this headline">¶</a></h2>
<p>This kind of operator doesn’t receive any individual as input and returns a
new individual.</p>
<div class="section" id="create-random-individual">
<h3>Create random individual<a class="headerlink" href="#create-random-individual" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.create_random_individual">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">create_random_individual</code><span class="sig-paren">(</span><em class="sig-param">max_retries: Optional[int] = 100</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.create_random_individual" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a random individual.</p>
<p>Individuals are created starting from section <cite>main</cite>. The new individual is
eventually checked using <cite>is_valid</cite>. If invalid it is discarded and the
generation process starts over. The function eventually gives up after a
number of tries and rises an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>constraints</strong> (<em>Constraints</em>) – the constraints to be used for generating the individual</p></li>
<li><p><strong>max_retries</strong> (<em>int</em>) – maximum number of attempts before giving up and return None</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Raise:</dt><dd><p>RuntimeError: if the function has not been able to generate a valid individual</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list with a valid MicroGP Individual or None</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="id1">
<h2>Mutation operators<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>This kind of operator change one or more genes that describe an individual. The
intensity of the change and the probability that it takes place depend on
<strong>sigma</strong>. This is a parameter specified during the creation of the
<a class="reference internal" href="darwin.html"><span class="doc">Darwin</span></a> object and it can assume values in [0, 1].</p>
<p>The available <a class="reference external" href="https://en.wikipedia.org/wiki/Mutation_(genetic_algorithm)">mutation operators</a> are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#microgp.individual_operators.remove_node_mutation" title="microgp.individual_operators.remove_node_mutation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators.remove_node_mutation</span></code></a></p></li>
<li><p><a class="reference internal" href="#microgp.individual_operators.add_node_mutation" title="microgp.individual_operators.add_node_mutation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators.add_node_mutation</span></code></a></p></li>
<li><p><a class="reference internal" href="#microgp.individual_operators.hierarchical_mutation" title="microgp.individual_operators.hierarchical_mutation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators.hierarchical_mutation</span></code></a></p></li>
<li><p><a class="reference internal" href="#microgp.individual_operators.flat_mutation" title="microgp.individual_operators.flat_mutation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators.flat_mutation</span></code></a></p></li>
</ul>
<div class="section" id="remove-node-mutation">
<h3>Remove node mutation<a class="headerlink" href="#remove-node-mutation" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.remove_node_mutation">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">remove_node_mutation</code><span class="sig-paren">(</span><em class="sig-param">sigma: float</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.remove_node_mutation" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to remove a node taken from the possible set of nodes in the
individual. The removal could fail because of the minimum number of nodes
that the individual must contain. This method returns a modified copy of
the passed individual leaving it unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_individual</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – source individual to mutate</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – mutation strength</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the new mutated individual or None if it is not valid</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="add-node-mutation">
<h3>Add node mutation<a class="headerlink" href="#add-node-mutation" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.add_node_mutation">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">add_node_mutation</code><span class="sig-paren">(</span><em class="sig-param">sigma: float</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.add_node_mutation" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a new node in the individual graph. An insertion of a new node
could fail because of there are no valid targets for the node that
contains a LocalReference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_individual</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – source individual to mutate</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – mutation strength</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the new mutated individual or None if it is not valid</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="hierarchical-mutation">
<h3>Hierarchical mutation<a class="headerlink" href="#hierarchical-mutation" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.hierarchical_mutation">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">hierarchical_mutation</code><span class="sig-paren">(</span><em class="sig-param">sigma: float</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.hierarchical_mutation" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose a node in the graph, choose a parameter inside the node, mutate it.
Each parameter has probability: <cite>1/len(nodes) * 1/len(parameters in that node)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_individual</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – source individual to mutate</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – mutation strength</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the new mutated individual or None if it is not valid</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="flat-mutation">
<h3>Flat mutation<a class="headerlink" href="#flat-mutation" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.flat_mutation">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">flat_mutation</code><span class="sig-paren">(</span><em class="sig-param">sigma: float</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.flat_mutation" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a list of all parameters contained in all nodes then choose one
of them and mutate it. Each parameter has probability: <cite>1/len(nodes)</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>original_individual</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – source individual to mutate</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – mutation strength</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the new mutated individual or None if it is not valid</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="id2">
<h2>Crossover operators<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>The available <a class="reference external" href="https://en.wikipedia.org/wiki/Crossover_(genetic_algorithm)">crossover operators</a> are:</p>
<ul class="simple">
<li><p>Switch procedure crossover: <a class="reference internal" href="#microgp.individual_operators.switch_proc_crossover" title="microgp.individual_operators.switch_proc_crossover"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators.switch_proc_crossover</span></code></a></p></li>
<li><p>MacroPool <a class="reference external" href="https://en.wikipedia.org/wiki/Crossover_(genetic_algorithm)#Single-point_crossover">OneCut crossover</a>: <a class="reference internal" href="#microgp.individual_operators.macro_pool_one_cut_point_crossover" title="microgp.individual_operators.macro_pool_one_cut_point_crossover"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators.macro_pool_one_cut_point_crossover</span></code></a></p></li>
<li><p>MacroPool <a class="reference external" href="https://en.wikipedia.org/wiki/Crossover_(genetic_algorithm)#Uniform_crossover">Uniform crossover</a>: <a class="reference internal" href="#microgp.individual_operators.macro_pool_uniform_crossover" title="microgp.individual_operators.macro_pool_uniform_crossover"><code class="xref py py-mod docutils literal notranslate"><span class="pre">microgp.individual_operators.macro_pool_uniform_crossover</span></code></a></p></li>
</ul>
<div class="section" id="switch-procedure-crossover">
<h3>Switch procedure crossover<a class="headerlink" href="#switch-procedure-crossover" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.switch_proc_crossover">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">switch_proc_crossover</code><span class="sig-paren">(</span><em class="sig-param">parentB: microgp.individual.Individual</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.switch_proc_crossover" title="Permalink to this definition">¶</a></dt>
<dd><p>Let’s consider a sequence of nodes connected through edges with label=
‘next’, we will call this sequence <cite>next-chain</cite>. This operator selects
the <cite>next-chains</cite> belonging to the common sections between the two parents
(excluding the <cite>main</cite> section) and link a random node with
ExternalReference parameter in it, to the selected <cite>next-chain</cite> after
copying it from the source to the destination individual.
The word ‘proc’ in method name refers to the <cite>next-chains</cite> that are not
‘main’ sections. The destination individual is a copy of a parent chosen
randomly and then modified with the new cloned <cite>next-chain</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parentA</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – First individual</p></li>
<li><p><strong>parentB</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – Second individual</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the new individual or None if it is not valid</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="macropool-onecut-crossover">
<h3>MacroPool OneCut crossover<a class="headerlink" href="#macropool-onecut-crossover" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.macro_pool_one_cut_point_crossover">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">macro_pool_one_cut_point_crossover</code><span class="sig-paren">(</span><em class="sig-param">parentB: microgp.individual.Individual</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.macro_pool_one_cut_point_crossover" title="Permalink to this definition">¶</a></dt>
<dd><p>This crossover builds two lists of MacroPools in parentA and parentB
belonging to common sections, chooses one element for each list and
chooses one node (called cut_node). parentA and parentB are cloned and
subsequently modified (in individualC, individualD); each individual will
have the chosen MacroPool with an half copied from the other individual.</p>
<p><strong>Examples</strong>:</p>
<ul class="simple">
<li><p>parentA has a MacroPool with nodes: [A, B, C, D, E]</p></li>
<li><p>parentB has a MacroPool with nodes: [F, G, H, I, L]</p></li>
<li><p>the chosen cut_node are B and G</p></li>
<li><p>individualC will have a MacroPool with nodes: [A, B, H, I, L]</p></li>
<li><p>individualD will have a MacroPool with nodes: [F, G, C, D, E]</p></li>
</ul>
<p>If the chosen MacroPools has a different number of nodes, then two cut
point will be chosen:</p>
<p><strong>Examples</strong>:</p>
<ul class="simple">
<li><p>parentA has a MacroPool with nodes: [A, B, C, D, E, F, G]</p></li>
<li><p>parentB has a MacroPool with nodes: [H, I, L]</p></li>
<li><p>the chosen cut_node are F and H</p></li>
<li><p>individualC will have a MacroPool with nodes: [A, B, C, D, E, F, I, L]</p></li>
<li><p>individualD will have a MacroPool with nodes: [H, G]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parentA</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – First individual</p></li>
<li><p><strong>parentB</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – Second individual</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the new individuals or None if it is not valid</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="macropool-uniform-crossover">
<h3>MacroPool Uniform crossover<a class="headerlink" href="#macropool-uniform-crossover" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="microgp.individual_operators.macro_pool_uniform_crossover">
<code class="sig-prename descclassname">individual_operators.</code><code class="sig-name descname">macro_pool_uniform_crossover</code><span class="sig-paren">(</span><em class="sig-param">parentB: microgp.individual.Individual</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; List[Optional[microgp.individual.Individual]]<a class="headerlink" href="#microgp.individual_operators.macro_pool_uniform_crossover" title="Permalink to this definition">¶</a></dt>
<dd><p>This crossover builds two lists of MacroPools in parentA and parentB
belonging to common sections, chooses one element for each list.
parentA and parentB are cloned and subsequently modified (in individualC
, individualD); each individual will have the chosen MacroPool swapped
with that of the other.</p>
<p><strong>Examples</strong>:</p>
<ul class="simple">
<li><p>parentA has a MacroPool with nodes: [A, B, C, D, E]</p></li>
<li><p>parentB has a MacroPool with nodes: [F, G, H, I, L]</p></li>
<li><p>individualC will have a MacroPool with nodes: [F, G, C, D, E]</p></li>
<li><p>individualD will have a MacroPool with nodes: [A, B, H, I, L]</p></li>
</ul>
<p>If the chosen MacroPools has a different number of nodes:</p>
<p><strong>Examples</strong>:</p>
<ul class="simple">
<li><p>parentA has a MacroPool with nodes: [A, B, C, D, E, F, G]</p></li>
<li><p>parentB has a MacroPool with nodes: [H, I, L]</p></li>
<li><p>individualC will have a MacroPool with nodes: [H, I, L]</p></li>
<li><p>individualD will have a MacroPool with nodes: [A, B, C, D, E, F, G]</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parentA</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – First individual</p></li>
<li><p><strong>parentB</strong> (<a class="reference internal" href="individual.html#microgp.individual.Individual" title="microgp.individual.Individual"><em>Individual</em></a>) – Second individual</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list with the new individuals or None if it is not valid</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 Giovanni Squillero and Alberto Tonda

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>